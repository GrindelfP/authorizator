напиши мне код для kotlin javafx программы авторизации

при запуске эта программа должна создавать базу данных, вызывая функцию createDataBase() если по указанному в DATABASE_PATH пути не существует файла с именем diary.db.

На основном окне этой программы должно быть поле для логина и для пароля. Снизу должно быть 2 кнопки: Войти и Зарегистрироваться

1. По нажатии кнопки Войти должна проводиться проверка того, не пустые ли поля для логина и для пароля и если они не пустые, то уже с помощью функции authorizeUser() описанной ниже, нужно проверить, правильные ли логин и пароль. Если так то нужно вывести уведомление о успешном входе пользователя с кнопкой ОК. Если же на каком-то из этапов проверка провалилась, то должно быть выведено уведомление "Введите логин и пароль!" с кнопкой ОК или "Неверные логин или пароль!" с кнопкой ОК, после чего пользователь сможет повторно ввести логин и пароль на основном окне.

2. По нажатии кнопки Зарегистрироваться основное окно должно заблокироваться и поверх него должно быть открыто новое окно регистрации, на котором должны быть поля для логина, для пароля и для проверки пароля и кнопка Регистрация. Когда пользователь заполнил все три поля он может нажать кнопку Регистрация и зарегистрироваться с помощью функции insertUser(), после чего должно вывестись уведомление об успешной регистрации. Если же пользователь не заполнил какое-либо из полей или поля для пароля и проверки пароля не совпадают, то должно быть выведено уведомление о неверном заполнении полей для регистации, после чего пользователь может снова ввести свои данные, чтобы зарегистрироваться. В случае успешной регистрации пользователя, после показа уведомления об успешной регистрации,
 окно регистрации должно быть закрыто, а основное окно должно быть вновь разблокированно, после чего пользователь сможет с ним взаимодействовать.

напиши необходимый код для Apllication, MainController и .fxml файлов.

важно, чтобы в твоем коде было четкое разделение на код для класса class AutorizatorApplication : Application() и код, связанный с визуалом и функционалом, который я прошу тебя положить в class MainController

Вот код, который поможет тебе в взаимодействии с базой данных, функции из которого я упоминал выше:

object Processor {
    private const val DATABASE_PATH: String = "src/main/resources/databases/diary.db"
    private const val DATABASE_URL: String = "jdbc:sqlite:$DATABASE_PATH"
    const val USERS_TABLE_NAME: String = "users"

    fun createDataBase() {
        val operator = DataBaseOperator(DATABASE_URL)
        operator.createUsersTable()
    }

    fun insertUser(login: String, password: String) {
        val operator = DataBaseOperator(DATABASE_URL)
        operator.insertUser(login, password)
    }

    fun authorizeUser(login: String, providedPassword: String): String {
        val operator = DataBaseOperator(DATABASE_URL)
        val isValid = operator.validator(login, providedPassword)

        return when (isValid) {
            true -> "User authorized successfully"
            false -> "Invalid login or password"
        }
    }
}